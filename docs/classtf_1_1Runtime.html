<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Taskflow Handbook</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/x-icon" href="favicon.ico" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="taskflow_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://taskflow.github.io/">Taskflow</a>
   &#160;<span id="projectnumber">3.2.0-Master-Branch</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classtf_1_1Runtime.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classtf_1_1Runtime-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tf::Runtime Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>class to create a runtime object used by a runtime task  
 <a href="classtf_1_1Runtime.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="graph_8hpp_source.html">graph.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ee48a82df1f9758a999d18e6015cec4" id="r_a4ee48a82df1f9758a999d18e6015cec4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtf_1_1Executor.html">Executor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a> ()</td></tr>
<tr class="memdesc:a4ee48a82df1f9758a999d18e6015cec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">obtains the running executor  <br /></td></tr>
<tr class="separator:a4ee48a82df1f9758a999d18e6015cec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e72cc0f298475195b252c8f1793343" id="r_aa7e72cc0f298475195b252c8f1793343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtf_1_1Runtime.html#aa7e72cc0f298475195b252c8f1793343">schedule</a> (<a class="el" href="classtf_1_1Task.html">Task</a> task)</td></tr>
<tr class="memdesc:aa7e72cc0f298475195b252c8f1793343"><td class="mdescLeft">&#160;</td><td class="mdescRight">schedules an active task immediately to the worker's queue  <br /></td></tr>
<tr class="separator:aa7e72cc0f298475195b252c8f1793343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee160df481b72d8fdc65ee531b44901" id="r_a8ee160df481b72d8fdc65ee531b44901"><td class="memTemplParams" colspan="2"><a id="a8ee160df481b72d8fdc65ee531b44901" name="a8ee160df481b72d8fdc65ee531b44901"></a>
template&lt;typename C &gt; </td></tr>
<tr class="memitem:a8ee160df481b72d8fdc65ee531b44901"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>run</b> (C &amp;&amp;)</td></tr>
<tr class="memdesc:a8ee160df481b72d8fdc65ee531b44901"><td class="mdescLeft">&#160;</td><td class="mdescRight">runs a task callable synchronously <br /></td></tr>
<tr class="separator:a8ee160df481b72d8fdc65ee531b44901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a763b2f90bc53f92d680a635fe28e858e" id="r_a763b2f90bc53f92d680a635fe28e858e"><td class="memItemLeft" align="right" valign="top"><a id="a763b2f90bc53f92d680a635fe28e858e" name="a763b2f90bc53f92d680a635fe28e858e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Executor</b></td></tr>
<tr class="separator:a763b2f90bc53f92d680a635fe28e858e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class to create a runtime object used by a runtime task </p>
<p>A runtime object is used by a runtime task for users to interact with the scheduling runtime, such as scheduling an active task and spawning a subflow.</p>
<div class="fragment"><div class="line">taskflow.emplace([](<a class="code hl_class" href="classtf_1_1Runtime.html">tf::Runtime</a>&amp; rt){</div>
<div class="line">  rt.<a class="code hl_function" href="classtf_1_1Runtime.html#a8ee160df481b72d8fdc65ee531b44901">run</a>([](<a class="code hl_class" href="classtf_1_1Subflow.html">tf::Subflow</a>&amp; sf){</div>
<div class="line">    <a class="code hl_class" href="classtf_1_1Task.html">tf::Task</a> A = sf.<a class="code hl_function" href="classtf_1_1FlowBuilder.html#a60d7a666cab71ecfa3010b2efb0d6b57">emplace</a>([](){});</div>
<div class="line">    <a class="code hl_class" href="classtf_1_1Task.html">tf::Task</a> B = sf.<a class="code hl_function" href="classtf_1_1FlowBuilder.html#a60d7a666cab71ecfa3010b2efb0d6b57">emplace</a>([](){});</div>
<div class="line">    A.<a class="code hl_function" href="classtf_1_1Task.html#a8c78c453295a553c1c016e4062da8588">precede</a>(B);</div>
<div class="line">  });</div>
<div class="line">});</div>
<div class="ttc" id="aclasstf_1_1FlowBuilder_html_a60d7a666cab71ecfa3010b2efb0d6b57"><div class="ttname"><a href="classtf_1_1FlowBuilder.html#a60d7a666cab71ecfa3010b2efb0d6b57">tf::FlowBuilder::emplace</a></div><div class="ttdeci">Task emplace(C &amp;&amp;callable)</div><div class="ttdoc">creates a static task</div><div class="ttdef"><b>Definition</b> flow_builder.hpp:742</div></div>
<div class="ttc" id="aclasstf_1_1Runtime_html"><div class="ttname"><a href="classtf_1_1Runtime.html">tf::Runtime</a></div><div class="ttdoc">class to create a runtime object used by a runtime task</div><div class="ttdef"><b>Definition</b> graph.hpp:150</div></div>
<div class="ttc" id="aclasstf_1_1Runtime_html_a8ee160df481b72d8fdc65ee531b44901"><div class="ttname"><a href="classtf_1_1Runtime.html#a8ee160df481b72d8fdc65ee531b44901">tf::Runtime::run</a></div><div class="ttdeci">void run(C &amp;&amp;)</div><div class="ttdoc">runs a task callable synchronously</div><div class="ttdef"><b>Definition</b> executor.hpp:1963</div></div>
<div class="ttc" id="aclasstf_1_1Subflow_html"><div class="ttname"><a href="classtf_1_1Subflow.html">tf::Subflow</a></div><div class="ttdoc">class to construct a subflow graph from the execution of a dynamic task</div><div class="ttdef"><b>Definition</b> flow_builder.hpp:889</div></div>
<div class="ttc" id="aclasstf_1_1Task_html"><div class="ttname"><a href="classtf_1_1Task.html">tf::Task</a></div><div class="ttdoc">class to create a task handle over a node in a taskflow graph</div><div class="ttdef"><b>Definition</b> task.hpp:187</div></div>
<div class="ttc" id="aclasstf_1_1Task_html_a8c78c453295a553c1c016e4062da8588"><div class="ttname"><a href="classtf_1_1Task.html#a8c78c453295a553c1c016e4062da8588">tf::Task::precede</a></div><div class="ttdeci">Task &amp; precede(Ts &amp;&amp;... tasks)</div><div class="ttdoc">adds precedence links from this to other tasks</div><div class="ttdef"><b>Definition</b> task.hpp:420</div></div>
</div><!-- fragment --><p>A runtime task is associated with an executor and a worker that runs the runtime task. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4ee48a82df1f9758a999d18e6015cec4" name="a4ee48a82df1f9758a999d18e6015cec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee48a82df1f9758a999d18e6015cec4">&#9670;&#160;</a></span>executor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtf_1_1Executor.html">Executor</a> &amp; tf::Runtime::executor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>obtains the running executor </p>
<p>The running executor of a runtime task is the executor that runs the parent taskflow of that runtime task.</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classtf_1_1Executor.html">tf::Executor</a> <a class="code hl_function" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a>;</div>
<div class="line"><a class="code hl_class" href="classtf_1_1Taskflow.html">tf::Taskflow</a> taskflow;</div>
<div class="line">taskflow.<a class="code hl_function" href="classtf_1_1FlowBuilder.html#a60d7a666cab71ecfa3010b2efb0d6b57">emplace</a>([&amp;](<a class="code hl_class" href="classtf_1_1Runtime.html">tf::Runtime</a>&amp; rt){</div>
<div class="line">  assert(&amp;(rt.<a class="code hl_function" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a>()) == &amp;<a class="code hl_function" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a>);</div>
<div class="line">});</div>
<div class="line"><a class="code hl_function" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a>.<a class="code hl_function" href="classtf_1_1Executor.html#a519777f5783981d534e9e53b99712069">run</a>(taskflow).wait();</div>
<div class="ttc" id="aclasstf_1_1Executor_html"><div class="ttname"><a href="classtf_1_1Executor.html">tf::Executor</a></div><div class="ttdoc">class to create an executor for running a taskflow graph</div><div class="ttdef"><b>Definition</b> executor.hpp:50</div></div>
<div class="ttc" id="aclasstf_1_1Executor_html_a519777f5783981d534e9e53b99712069"><div class="ttname"><a href="classtf_1_1Executor.html#a519777f5783981d534e9e53b99712069">tf::Executor::run</a></div><div class="ttdeci">tf::Future&lt; void &gt; run(Taskflow &amp;taskflow)</div><div class="ttdoc">runs a taskflow once</div><div class="ttdef"><b>Definition</b> executor.hpp:1573</div></div>
<div class="ttc" id="aclasstf_1_1Runtime_html_a4ee48a82df1f9758a999d18e6015cec4"><div class="ttname"><a href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">tf::Runtime::executor</a></div><div class="ttdeci">Executor &amp; executor()</div><div class="ttdoc">obtains the running executor</div><div class="ttdef"><b>Definition</b> graph.hpp:233</div></div>
<div class="ttc" id="aclasstf_1_1Taskflow_html"><div class="ttname"><a href="classtf_1_1Taskflow.html">tf::Taskflow</a></div><div class="ttdoc">class to create a taskflow object</div><div class="ttdef"><b>Definition</b> core/taskflow.hpp:73</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aa7e72cc0f298475195b252c8f1793343" name="aa7e72cc0f298475195b252c8f1793343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e72cc0f298475195b252c8f1793343">&#9670;&#160;</a></span>schedule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tf::Runtime::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtf_1_1Task.html">Task</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>schedules an active task immediately to the worker's queue </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the given active task to schedule immediately</td></tr>
  </table>
  </dd>
</dl>
<p>This member function immediately schedules an active task to the task queue of the associated worker in the runtime task. An active task is a task in a running taskflow. The task may or may not be running, and scheduling that task will immediately put the task into the task queue of the worker that is running the runtime task. Consider the following example:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classtf_1_1Task.html">tf::Task</a> A, B, C, D;</div>
<div class="line"><a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/utility/tuple/tie.html">std::tie</a>(A, B, C, D) = taskflow.emplace(</div>
<div class="line">  [] () { <span class="keywordflow">return</span> 0; },</div>
<div class="line">  [&amp;C] (<a class="code hl_class" href="classtf_1_1Runtime.html">tf::Runtime</a>&amp; rt) {  <span class="comment">// C must be captured by reference</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;B\n&quot;</span>;</div>
<div class="line">    rt.schedule(C);</div>
<div class="line">  },</div>
<div class="line">  [] () { <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;C\n&quot;</span>; },</div>
<div class="line">  [] () { <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;D\n&quot;</span>; }</div>
<div class="line">);</div>
<div class="line">A.<a class="code hl_function" href="classtf_1_1Task.html#a8c78c453295a553c1c016e4062da8588">precede</a>(B, C, D);</div>
<div class="line"><a class="code hl_function" href="classtf_1_1Runtime.html#a4ee48a82df1f9758a999d18e6015cec4">executor</a>.<a class="code hl_function" href="classtf_1_1Executor.html#a519777f5783981d534e9e53b99712069">run</a>(taskflow).wait();</div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
<div class="ttc" id="atie_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/utility/tuple/tie.html">std::tie</a></div><div class="ttdeci">T tie(T... args)</div></div>
</div><!-- fragment --><p>The executor will first run the condition task <code>A</code> which returns <code>0</code> to inform the scheduler to go to the runtime task <code>B</code>. During the execution of <code>B</code>, it directly schedules task <code>C</code> without going through the normal taskflow graph scheduling process. At this moment, task <code>C</code> is active because its parent taskflow is running. When the taskflow finishes, we will see both <code>B</code> and <code>C</code> in the output. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="graph_8hpp_source.html">graph.hpp</a></li>
<li><a class="el" href="executor_8hpp_source.html">executor.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetf.html">tf</a></li><li class="navelem"><a class="el" href="classtf_1_1Runtime.html">Runtime</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

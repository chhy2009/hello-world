<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Taskflow Handbook</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/x-icon" href="favicon.ico" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="taskflow_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://taskflow.github.io/">Taskflow</a>
   &#160;<span id="projectnumber">3.2.0-Master-Branch</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classtf_1_1ObserverInterface.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classtf_1_1ObserverInterface-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tf::ObserverInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>class to derive an executor observer  
 <a href="classtf_1_1ObserverInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="observer_8hpp_source.html">observer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tf::ObserverInterface:</div>
<div class="dyncontent">
<div class="center"><img src="classtf_1_1ObserverInterface__inherit__graph.png" border="0" usemap="#atf_1_1ObserverInterface_inherit__map" alt="Inheritance graph"/></div>
<map name="atf_1_1ObserverInterface_inherit__map" id="atf_1_1ObserverInterface_inherit__map">
<area shape="rect" title="class to derive an executor observer" alt="" coords="116,5,335,40"/>
<area shape="rect" href="classtf_1_1ChromeObserver.html" title="class to create an observer based on Chrome tracing format" alt="" coords="5,88,216,123"/>
<area shape="poly" title=" " alt="" coords="192,50,135,90,132,86,189,46"/>
<area shape="rect" href="classtf_1_1TFProfObserver.html" title="class to create an observer based on the built&#45;in taskflow profiler format" alt="" coords="240,88,440,123"/>
<area shape="poly" title=" " alt="" coords="262,46,318,86,315,90,258,50"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adfd71c3af3ae2ea4f41eed26c1b6f604" id="r_adfd71c3af3ae2ea4f41eed26c1b6f604"><td class="memItemLeft" align="right" valign="top"><a id="adfd71c3af3ae2ea4f41eed26c1b6f604" name="adfd71c3af3ae2ea4f41eed26c1b6f604"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~ObserverInterface</b> ()=default</td></tr>
<tr class="memdesc:adfd71c3af3ae2ea4f41eed26c1b6f604"><td class="mdescLeft">&#160;</td><td class="mdescRight">virtual destructor <br /></td></tr>
<tr class="separator:adfd71c3af3ae2ea4f41eed26c1b6f604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e6e62f12bf9d9dc4fa74632f6825d9" id="r_a41e6e62f12bf9d9dc4fa74632f6825d9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtf_1_1ObserverInterface.html#a41e6e62f12bf9d9dc4fa74632f6825d9">set_up</a> (size_t num_workers)=0</td></tr>
<tr class="memdesc:a41e6e62f12bf9d9dc4fa74632f6825d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor-like method to call when the executor observer is fully created  <br /></td></tr>
<tr class="separator:a41e6e62f12bf9d9dc4fa74632f6825d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3a9f7f1d43691794e487b8787b01a0" id="r_a3e3a9f7f1d43691794e487b8787b01a0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtf_1_1ObserverInterface.html#a3e3a9f7f1d43691794e487b8787b01a0">on_entry</a> (<a class="el" href="classtf_1_1WorkerView.html">WorkerView</a> w, <a class="el" href="classtf_1_1TaskView.html">TaskView</a> task_view)=0</td></tr>
<tr class="memdesc:a3e3a9f7f1d43691794e487b8787b01a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to call before a worker thread executes a closure  <br /></td></tr>
<tr class="separator:a3e3a9f7f1d43691794e487b8787b01a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59a59a59eadd4eb6ba20ecdfcae882b" id="r_aa59a59a59eadd4eb6ba20ecdfcae882b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtf_1_1ObserverInterface.html#aa59a59a59eadd4eb6ba20ecdfcae882b">on_exit</a> (<a class="el" href="classtf_1_1WorkerView.html">WorkerView</a> w, <a class="el" href="classtf_1_1TaskView.html">TaskView</a> task_view)=0</td></tr>
<tr class="memdesc:aa59a59a59eadd4eb6ba20ecdfcae882b"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to call after a worker thread executed a closure  <br /></td></tr>
<tr class="separator:aa59a59a59eadd4eb6ba20ecdfcae882b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a763b2f90bc53f92d680a635fe28e858e" id="r_a763b2f90bc53f92d680a635fe28e858e"><td class="memItemLeft" align="right" valign="top"><a id="a763b2f90bc53f92d680a635fe28e858e" name="a763b2f90bc53f92d680a635fe28e858e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Executor</b></td></tr>
<tr class="separator:a763b2f90bc53f92d680a635fe28e858e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class to derive an executor observer </p>
<p>The <a class="el" href="classtf_1_1ObserverInterface.html" title="class to derive an executor observer">tf::ObserverInterface</a> class let users define custom methods to monitor the behaviors of an executor. This is particularly useful when you want to inspect the performance of an executor and visualize when each thread participates in the execution of a task. To prevent users from direct access to the internal threads and tasks, <a class="el" href="classtf_1_1ObserverInterface.html" title="class to derive an executor observer">tf::ObserverInterface</a> provides immutable wrappers, <a class="el" href="classtf_1_1WorkerView.html" title="class to create an immutable view of a worker in an executor">tf::WorkerView</a> and <a class="el" href="classtf_1_1TaskView.html" title="class to access task information from the observer interface">tf::TaskView</a>, over workers and tasks.</p>
<p>Please refer to <a class="el" href="classtf_1_1WorkerView.html" title="class to create an immutable view of a worker in an executor">tf::WorkerView</a> and <a class="el" href="classtf_1_1TaskView.html" title="class to access task information from the observer interface">tf::TaskView</a> for details.</p>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>MyObserver : <span class="keyword">public</span> <a class="code hl_class" href="classtf_1_1ObserverInterface.html">tf::ObserverInterface</a> {</div>
<div class="line"> </div>
<div class="line">  MyObserver(<span class="keyword">const</span> <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; name) {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;constructing observer &quot;</span> &lt;&lt; name &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> set_up(<span class="keywordtype">size_t</span> num_workers) <span class="keyword">override</span> <span class="keyword">final</span> {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;setting up observer with &quot;</span> &lt;&lt; num_workers &lt;&lt; <span class="stringliteral">&quot; workers\n&quot;</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> on_entry(WorkerView w, <a class="code hl_class" href="classtf_1_1TaskView.html">tf::TaskView</a> tv) <span class="keyword">override</span> <span class="keyword">final</span> {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostringstream.html">std::ostringstream</a> oss;</div>
<div class="line">    oss &lt;&lt; <span class="stringliteral">&quot;worker &quot;</span> &lt;&lt; w.id() &lt;&lt; <span class="stringliteral">&quot; ready to run &quot;</span> &lt;&lt; tv.name() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; oss.str();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> on_exit(WorkerView w, <a class="code hl_class" href="classtf_1_1TaskView.html">tf::TaskView</a> tv) <span class="keyword">override</span> <span class="keyword">final</span> {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostringstream.html">std::ostringstream</a> oss;</div>
<div class="line">    oss &lt;&lt; <span class="stringliteral">&quot;worker &quot;</span> &lt;&lt; w.id() &lt;&lt; <span class="stringliteral">&quot; finished running &quot;</span> &lt;&lt; tv.name() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; oss.str();</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line">  </div>
<div class="line"><a class="code hl_class" href="classtf_1_1Taskflow.html">tf::Taskflow</a> taskflow;</div>
<div class="line"><a class="code hl_class" href="classtf_1_1Executor.html">tf::Executor</a> executor;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert tasks into taskflow</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line">  </div>
<div class="line"><span class="comment">// create a custom observer</span></div>
<div class="line"><a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr&lt;MyObserver&gt;</a> observer = executor.<a class="code hl_function" href="classtf_1_1Executor.html#aff77def96ae740d648dd84e571237c83">make_observer</a>&lt;MyObserver&gt;(<span class="stringliteral">&quot;MyObserver&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// run the taskflow</span></div>
<div class="line">executor.<a class="code hl_function" href="classtf_1_1Executor.html#a519777f5783981d534e9e53b99712069">run</a>(taskflow).wait();</div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
<div class="ttc" id="abasic_ostringstream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostringstream.html">std::ostringstream</a></div></div>
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div></div>
<div class="ttc" id="aclasstf_1_1Executor_html"><div class="ttname"><a href="classtf_1_1Executor.html">tf::Executor</a></div><div class="ttdoc">class to create an executor for running a taskflow graph</div><div class="ttdef"><b>Definition</b> executor.hpp:50</div></div>
<div class="ttc" id="aclasstf_1_1Executor_html_a519777f5783981d534e9e53b99712069"><div class="ttname"><a href="classtf_1_1Executor.html#a519777f5783981d534e9e53b99712069">tf::Executor::run</a></div><div class="ttdeci">tf::Future&lt; void &gt; run(Taskflow &amp;taskflow)</div><div class="ttdoc">runs a taskflow once</div><div class="ttdef"><b>Definition</b> executor.hpp:1573</div></div>
<div class="ttc" id="aclasstf_1_1Executor_html_aff77def96ae740d648dd84e571237c83"><div class="ttname"><a href="classtf_1_1Executor.html#aff77def96ae740d648dd84e571237c83">tf::Executor::make_observer</a></div><div class="ttdeci">std::shared_ptr&lt; Observer &gt; make_observer(ArgsT &amp;&amp;... args)</div><div class="ttdoc">constructs an observer to inspect the activities of worker threads</div><div class="ttdef"><b>Definition</b> executor.hpp:1038</div></div>
<div class="ttc" id="aclasstf_1_1ObserverInterface_html"><div class="ttname"><a href="classtf_1_1ObserverInterface.html">tf::ObserverInterface</a></div><div class="ttdoc">class to derive an executor observer</div><div class="ttdef"><b>Definition</b> observer.hpp:169</div></div>
<div class="ttc" id="aclasstf_1_1TaskView_html"><div class="ttname"><a href="classtf_1_1TaskView.html">tf::TaskView</a></div><div class="ttdoc">class to access task information from the observer interface</div><div class="ttdef"><b>Definition</b> task.hpp:638</div></div>
<div class="ttc" id="aclasstf_1_1Taskflow_html"><div class="ttname"><a href="classtf_1_1Taskflow.html">tf::Taskflow</a></div><div class="ttdoc">class to create a taskflow object</div><div class="ttdef"><b>Definition</b> core/taskflow.hpp:73</div></div>
<div class="ttc" id="ashared_ptr_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a></div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3e3a9f7f1d43691794e487b8787b01a0" name="a3e3a9f7f1d43691794e487b8787b01a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3a9f7f1d43691794e487b8787b01a0">&#9670;&#160;</a></span>on_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void tf::ObserverInterface::on_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtf_1_1WorkerView.html">WorkerView</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtf_1_1TaskView.html">TaskView</a>&#160;</td>
          <td class="paramname"><em>task_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>method to call before a worker thread executes a closure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>an immutable view of this worker thread </td></tr>
    <tr><td class="paramname">task_view</td><td>a constant wrapper object to the task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa59a59a59eadd4eb6ba20ecdfcae882b" name="aa59a59a59eadd4eb6ba20ecdfcae882b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59a59a59eadd4eb6ba20ecdfcae882b">&#9670;&#160;</a></span>on_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void tf::ObserverInterface::on_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtf_1_1WorkerView.html">WorkerView</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtf_1_1TaskView.html">TaskView</a>&#160;</td>
          <td class="paramname"><em>task_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>method to call after a worker thread executed a closure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>an immutable view of this worker thread </td></tr>
    <tr><td class="paramname">task_view</td><td>a constant wrapper object to the task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41e6e62f12bf9d9dc4fa74632f6825d9" name="a41e6e62f12bf9d9dc4fa74632f6825d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e6e62f12bf9d9dc4fa74632f6825d9">&#9670;&#160;</a></span>set_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void tf::ObserverInterface::set_up </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_workers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructor-like method to call when the executor observer is fully created </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_workers</td><td>the number of the worker threads in the executor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="observer_8hpp_source.html">observer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetf.html">tf</a></li><li class="navelem"><a class="el" href="classtf_1_1ObserverInterface.html">ObserverInterface</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
